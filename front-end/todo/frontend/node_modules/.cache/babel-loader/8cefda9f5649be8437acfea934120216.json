{"remainingRequest":"/home/rperandre/other-projects/project-todo/front-end/todo/frontend/node_modules/babel-loader/lib/index.js!/home/rperandre/other-projects/project-todo/front-end/todo/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/rperandre/other-projects/project-todo/front-end/todo/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/rperandre/other-projects/project-todo/front-end/todo/frontend/src/components/todo-table/TodoTable.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/rperandre/other-projects/project-todo/front-end/todo/frontend/src/components/todo-table/TodoTable.vue","mtime":1574442239243},{"path":"/home/rperandre/other-projects/project-todo/front-end/todo/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/rperandre/other-projects/project-todo/front-end/todo/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/rperandre/other-projects/project-todo/front-end/todo/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/rperandre/other-projects/project-todo/front-end/todo/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zZWFyY2giOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgVG9kb0lucHV0IGZyb20gJ0AvY29tcG9uZW50cy90b2RvLWlucHV0L1RvZG9JbnB1dCc7CmltcG9ydCBUb2RvVGFibGVQYWdpbmF0aW9uIGZyb20gJ0AvY29tcG9uZW50cy90b2RvLXRhYmxlL1RvZG9UYWJsZVBhZ2luYXRpb24nOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgVG9kb0lucHV0OiBUb2RvSW5wdXQsCiAgICBUb2RvVGFibGVQYWdpbmF0aW9uOiBUb2RvVGFibGVQYWdpbmF0aW9uCiAgfSwKICBwcm9wczogewogICAgZmllbGRzOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfSwKICAgIGl0ZW1zOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfSwKICAgIHNlYXJjaGFibGU6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICBwYWdpbmF0ZWQ6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICBwYWdlU2l6ZTogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDEwLAogICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uIHZhbGlkYXRvcih2YWx1ZSkgewogICAgICAgIHJldHVybiBbNSwgMTAsIDIwXS5maW5kKGZ1bmN0aW9uIChzaXplKSB7CiAgICAgICAgICByZXR1cm4gdmFsdWUgPT09IHNpemU7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpbnRlcm5hbFNlYXJjaFRlcm06ICcnLAogICAgICBpbnRlcm5hbEl0ZW1zOiB0aGlzLml0ZW1zLAogICAgICBpbnRlcm5hbFBhZ2VTaXplOiB0aGlzLnBhZ2VTaXplLAogICAgICBpbnRlcm5hbEN1cnJlbnRQYWdlOiAxCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHBhZ2VzOiBmdW5jdGlvbiBwYWdlcygpIHsKICAgICAgcmV0dXJuIHRoaXMuaW50ZXJuYWxQYWdlU2l6ZSAhPSAwID8gTWF0aC5jZWlsKHRoaXMuaXRlbXMubGVuZ3RoIC8gdGhpcy5pbnRlcm5hbFBhZ2VTaXplKSA6IDE7CiAgICB9LAogICAgc2VhcmNoZWQ6IGZ1bmN0aW9uIHNlYXJjaGVkKCkgewogICAgICByZXR1cm4gdGhpcy5pbnRlcm5hbFNlYXJjaFRlcm0gIT0gJyc7CiAgICB9LAogICAgaGFzRGF0YTogZnVuY3Rpb24gaGFzRGF0YSgpIHsKICAgICAgcmV0dXJuIHRoaXMuaW50ZXJuYWxJdGVtcy5sZW5ndGggPiAwOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIGl0ZW1zOiBmdW5jdGlvbiBpdGVtcygpIHsKICAgICAgdGhpcy51cGRhdGVEYXRhKCk7CiAgICB9LAogICAgaW50ZXJuYWxTZWFyY2hUZXJtOiBmdW5jdGlvbiBpbnRlcm5hbFNlYXJjaFRlcm0oKSB7CiAgICAgIHRoaXMuc2VhcmNoKCk7CiAgICB9LAogICAgaW50ZXJuYWxDdXJyZW50UGFnZTogZnVuY3Rpb24gaW50ZXJuYWxDdXJyZW50UGFnZSgpIHsKICAgICAgdGhpcy51cGRhdGVEYXRhKCk7CiAgICB9LAogICAgaW50ZXJuYWxQYWdlU2l6ZTogZnVuY3Rpb24gaW50ZXJuYWxQYWdlU2l6ZSgpIHsKICAgICAgdGhpcy51cGRhdGVEYXRhKCk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICB1cGRhdGVEYXRhOiBmdW5jdGlvbiB1cGRhdGVEYXRhKCkgewogICAgICBpZiAoIXRoaXMucGFnaW5hdGVkIHx8IHRoaXMuaW50ZXJuYWxQYWdlU2l6ZSA9PT0gMCkgewogICAgICAgIHRoaXMuaW50ZXJuYWxJdGVtcyA9IHRoaXMuaXRlbXM7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB2YXIgZW5kID0gdGhpcy5pbnRlcm5hbEN1cnJlbnRQYWdlICogdGhpcy5pbnRlcm5hbFBhZ2VTaXplOwogICAgICB2YXIgYmVnaW4gPSB0aGlzLmludGVybmFsQ3VycmVudFBhZ2UgKiB0aGlzLmludGVybmFsUGFnZVNpemUgLSB0aGlzLmludGVybmFsUGFnZVNpemU7CiAgICAgIHRoaXMuaW50ZXJuYWxJdGVtcyA9IHRoaXMuaXRlbXMuc2xpY2UoYmVnaW4sIGVuZCk7CiAgICB9LAogICAgc2VhcmNoOiBmdW5jdGlvbiBzZWFyY2goKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLmludGVybmFsU2VhcmNoVGVybS5sZW5ndGggPT09IDAgPyB0aGlzLnVwZGF0ZURhdGEoKSA6IHRoaXMuaW50ZXJuYWxJdGVtcyA9IHRoaXMuaXRlbXMuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBpdGVtKSB7CiAgICAgICAgICByZXR1cm4gbmV3IFN0cmluZyhpdGVtW3Byb3BdKS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKF90aGlzLmludGVybmFsU2VhcmNoVGVybS50b0xvd2VyQ2FzZSgpKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHJvd0NsaWNrZWQ6IGZ1bmN0aW9uIHJvd0NsaWNrZWQoaXRlbSkgewogICAgICB0aGlzLiRlbWl0KCdvblJvd0NsaWNrJywgaXRlbSk7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgIGlmICghX3RoaXMyLmhhc0RhdGEpIHsKICAgICAgICBfdGhpczIuaW50ZXJuYWxDdXJyZW50UGFnZSA9IDA7CiAgICAgIH0KICAgIH0sIDEwMCk7CiAgfQp9Ow=="},{"version":3,"sources":["TodoTable.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"todo-table-container\">\n\n    <TodoInput \n        id=\"todo-search\" \n        :value.sync=\"internalSearchTerm\" \n        :isSearch=\"true\"\n    />\n\n    <table class=\"todo-table\">\n\n        <!-- Header -->\n        <thead>\n            <th v-for=\"field in fields\" :key=\"field.name\">\n                <slot name=\"table-col\" :field=\"field\">\n                    {{field.label}}\n                </slot>\n            </th>\n        </thead>\n\n        <!-- Data -->\n        <tbody>\n            <template v-if=\"hasData\">\n                <tr v-for=\"(item, itemIndex) in internalItems\" :key=\"`tr_${itemIndex}`\" @click.stop=\"rowClicked(item)\">\n                    <td v-for=\"(field, fieldIndex) in fields\" :key=\"`td_${field.name}_${itemIndex}_${fieldIndex}`\">\n                        <slot name=\"table-row\" :field=\"field.name\" :item=\"item\" :value=\"item[field.name]\">\n                            {{item[field.name]}}\n                        </slot>\n                    </td>\n                </tr>\n            </template>\n            <template v-else>\n                <tr>\n                    <td :colspan=\"fields.length\" class=\"todo-table-nodata\">\n                        Não há dados\n                    </td>\n                </tr>\n            </template>\n        </tbody>\n\n        <!-- Pagination -->\n        <tfoot v-if=\"paginated\">\n            <tr>\n                <td :colspan=\"fields.length\" class=\"todo-table-footer\">\n                    <TodoTablePagination \n                        :currentPage.sync=\"internalCurrentPage\" \n                        :pages=\"pages\" \n                        :pageSize.sync=\"internalPageSize\"\n                        :disabled=\"searched\"\n                    />\n                </td>\n            </tr>\n        </tfoot>\n    </table>\n\n  </div>\n</template>\n\n<script>\nimport TodoInput from '@/components/todo-input/TodoInput';\nimport TodoTablePagination from '@/components/todo-table/TodoTablePagination';\n\nexport default {\n    components: { TodoInput, TodoTablePagination },\n    props: {\n        fields: {\n            type: Array,\n            required: true\n        },\n        items: {\n            type: Array,\n            required: true\n        },\n        searchable: {\n            type: Boolean,\n            default: false\n        },\n        paginated: {\n            type: Boolean,\n            default: false\n        },\n        pageSize: {\n            type: Number,\n            default: 10,\n            validator: (value) => [5, 10, 20].find(size => value === size)\n        }\n    },\n    data() {\n        return {\n            internalSearchTerm: '',\n            internalItems: this.items,\n            internalPageSize: this.pageSize,\n            internalCurrentPage: 1,\n        }\n    },\n    computed: {\n        pages() {\n            return this.internalPageSize != 0 \n                ? Math.ceil(this.items.length / this.internalPageSize)\n                : 1;\n        },\n        searched() {\n            return this.internalSearchTerm != '';\n        },\n        hasData() {\n            return this.internalItems.length > 0;\n        }\n    },\n    watch: {\n        items() {\n            this.updateData();\n        },\n        internalSearchTerm() {\n            this.search();\n        },\n        internalCurrentPage() {\n            this.updateData();\n        },\n        internalPageSize() {\n            this.updateData();\n        }\n    },\n    methods: {\n        updateData() {\n            if (!this.paginated || this.internalPageSize === 0) {\n                this.internalItems = this.items;\n                return;\n            } \n\n            let end = this.internalCurrentPage * this.internalPageSize;\n            let begin = (this.internalCurrentPage * this.internalPageSize) - this.internalPageSize;\n            \n            this.internalItems = this.items.slice(begin, end);\n        },\n        search() {\n            this.internalSearchTerm.length === 0\n                ? this.updateData()\n                : this.internalItems = this.items.filter(item => {\n                    for(let prop in item) {\n                        return new String(item[prop]).toLowerCase()\n                            .includes(this.internalSearchTerm.toLowerCase());\n                    }\n                })\n        },\n        rowClicked(item) {\n            this.$emit('onRowClick', item);\n        }\n    },\n    created() {\n        setTimeout(() => {\n            if (!this.hasData) {\n                this.internalCurrentPage = 0\n            }            \n        }, 100);\n    }\n\n}\n</script>\n\n<style>\n.todo-table-container {\n    display: grid;\n}\n.todo-table {\n    border-collapse: collapse;\n}\n.todo-table thead th {    \n    text-align: center;\n    padding: 10px;\n    background: var(--table-th-color);\n    color: var(--white-color);\n    border-right: 1px solid var(--table-border-color);\n}\n.todo-table thead th:first-child {\n    border-left: 1px solid var(--table-th-color);\n}\n.todo-table thead th:last-child {\n    border-right: 1px solid var(--table-th-color);\n}\n.todo-table tbody tr:hover {\n    background: var(--table-tr-hover-color);\n}\n.todo-table td {\n    border-bottom: 1px solid var(--table-border-color);\n    border-right: 1px solid var(--table-border-color);\n    padding: 10px;\n}\n.todo-table td:last-child {\n    border-right: none;\n}\n.todo-table-nodata {\n    padding: 10px;\n    font-size: 1.2rem;\n    font-weight: bold;\n}\n.todo-table-footer {\n    background: var(--gray-light-color);\n}\n</style>"],"sourceRoot":"src/components/todo-table"}]}