{"remainingRequest":"/home/rperandre/projetos-teste/projeto-todo/front-end/treinavue-basico/todo/frontend/node_modules/babel-loader/lib/index.js!/home/rperandre/projetos-teste/projeto-todo/front-end/treinavue-basico/todo/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/rperandre/projetos-teste/projeto-todo/front-end/treinavue-basico/todo/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/rperandre/projetos-teste/projeto-todo/front-end/treinavue-basico/todo/frontend/src/views/TodoMaintenance.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/rperandre/projetos-teste/projeto-todo/front-end/treinavue-basico/todo/frontend/src/views/TodoMaintenance.vue","mtime":1574442239243},{"path":"/home/rperandre/projetos-teste/projeto-todo/front-end/treinavue-basico/todo/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/rperandre/projetos-teste/projeto-todo/front-end/treinavue-basico/todo/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/rperandre/projetos-teste/projeto-todo/front-end/treinavue-basico/todo/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/rperandre/projetos-teste/projeto-todo/front-end/treinavue-basico/todo/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBUb2RvU2VydmljZSBmcm9tICdAL3NlcnZpY2VzL3RvZG8tc2VydmljZS5qcyc7CmltcG9ydCBUb2RvUGFnZUhlYWRlciBmcm9tICdAL2NvbXBvbmVudHMvdG9kby1wYWdlLWhlYWRlci9Ub2RvUGFnZUhlYWRlcic7CmltcG9ydCBUb2RvSW5wdXQgZnJvbSAnQC9jb21wb25lbnRzL3RvZG8taW5wdXQvVG9kb0lucHV0JzsKaW1wb3J0IFRvZG9NZXNzYWdlU2VydmljZSBmcm9tICdAL2NvbXBvbmVudHMvdG9kby1tZXNzYWdlL1RvZG9NZXNzYWdlU2VydmljZSc7CmltcG9ydCBUb2RvTW9kYWxDb25maXJtIGZyb20gJ0AvY29tcG9uZW50cy90b2RvLW1vZGFsL1RvZG9Nb2RhbENvbmZpcm0nOwppbXBvcnQgVG9kb01vZGFsU2VydmljZSBmcm9tICdAL2NvbXBvbmVudHMvdG9kby1tb2RhbC9Ub2RvTW9kYWxTZXJ2aWNlJzsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIFRvZG9QYWdlSGVhZGVyOiBUb2RvUGFnZUhlYWRlciwKICAgIFRvZG9JbnB1dDogVG9kb0lucHV0LAogICAgVG9kb01vZGFsQ29uZmlybTogVG9kb01vZGFsQ29uZmlybQogIH0sCiAgcHJvcHM6IFsnaWQnXSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGFzazogewogICAgICAgIGRlc2NyaXB0aW9uOiAnJwogICAgICB9CiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHRpdGxlOiBmdW5jdGlvbiB0aXRsZSgpIHsKICAgICAgcmV0dXJuICghdGhpcy5pZCA/ICdDcmlhcicgOiAnQWx0ZXJhcicpICsgJyBUYXNrJzsKICAgIH0sCiAgICBjb25maXJtTWVzc2FnZTogZnVuY3Rpb24gY29uZmlybU1lc3NhZ2UoKSB7CiAgICAgIHJldHVybiB0aGlzLmlkID8gJ0Rlc2VqYSByZWFsbWVudGUgYWx0ZXJhciBhIHRhc2s/JyA6ICdEZXNlamEgcmVhbG1lbnRlIGluc2VyaXIgYSB0YXNrPyc7CiAgICB9LAogICAgbWVzc2FnZUlkOiBmdW5jdGlvbiBtZXNzYWdlSWQoKSB7CiAgICAgIHJldHVybiAndG9kb0luc2VydFVwZGF0ZSc7CiAgICB9LAogICAgaWRTYXZlQ29uZmlybTogZnVuY3Rpb24gaWRTYXZlQ29uZmlybSgpIHsKICAgICAgcmV0dXJuICdzYXZlVGFza0NvbmZpcm0nOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgc2F2ZVRhc2s6IGZ1bmN0aW9uIHNhdmVUYXNrKCkgewogICAgICBUb2RvTW9kYWxTZXJ2aWNlLm9wZW4odGhpcy5pZFNhdmVDb25maXJtKTsKICAgIH0sCiAgICBjb25maXJtU2F2ZVRhc2s6IGZ1bmN0aW9uIGNvbmZpcm1TYXZlVGFzaygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGlmICghdGhpcy50YXNrLmRlc2NyaXB0aW9uKSB7CiAgICAgICAgYWxlcnQoJ0Rlc2NyacOnw6NvIG7Do28gaW5mb3JtYWRhJyk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBpZiAoIXRoaXMuaWQpIHsKICAgICAgICBUb2RvU2VydmljZS5jcmVhdGUoewogICAgICAgICAgZGVzY3JpcHRpb246IHRoaXMudGFzay5kZXNjcmlwdGlvbiwKICAgICAgICAgIGRvbmU6IGZhbHNlCiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpcy50YXNrLmRlc2NyaXB0aW9uID0gJyc7CiAgICAgICAgICBUb2RvTWVzc2FnZVNlcnZpY2Uuc3VjY2VzcyhfdGhpcy5tZXNzYWdlSWQsICdUYXNrIGNyaWFkYSBjb20gc3VjZXNzbycpOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiBUb2RvTWVzc2FnZVNlcnZpY2UuZXJyb3IoX3RoaXMubWVzc2FnZUlkLCAnRXJybyBhbyBpbnNlcmlyIGEgdGFzaycpOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIFRvZG9TZXJ2aWNlLnVwZGF0ZSh7CiAgICAgICAgICBpZDogdGhpcy5pZCwKICAgICAgICAgIGRlc2NyaXB0aW9uOiB0aGlzLnRhc2suZGVzY3JpcHRpb24sCiAgICAgICAgICBkb25lOiBmYWxzZQogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIFRvZG9NZXNzYWdlU2VydmljZS5zdWNjZXNzKF90aGlzLm1lc3NhZ2VJZCwgJ1Rhc2sgYWx0ZXJhZGEgY29tIHN1Y2Vzc28nKTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gVG9kb01lc3NhZ2VTZXJ2aWNlLmVycm9yKF90aGlzLm1lc3NhZ2VJZCwgJ0Vycm8gYW8gYWx0ZXJhciBhIHRhc2snKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGJhY2tUb0xpc3Q6IGZ1bmN0aW9uIGJhY2tUb0xpc3QoKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBuYW1lOiAndG9kby1saXN0JwogICAgICB9KTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICBpZiAodGhpcy5pZCkgewogICAgICBUb2RvU2VydmljZS5maW5kKHRoaXMuaWQpLnRoZW4oZnVuY3Rpb24gKHRhc2spIHsKICAgICAgICByZXR1cm4gX3RoaXMyLnRhc2suZGVzY3JpcHRpb24gPSB0YXNrLmRlc2NyaXB0aW9uOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIFRvZG9NZXNzYWdlU2VydmljZS5lcnJvcihfdGhpczIubWVzc2FnZUlkLCAnRXJybyBhbyBjYXJyZWdhciBhIHRhc2snKTsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["TodoMaintenance.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <section class=\"maintain-container\">\r\n\r\n        <TodoMessage \r\n            :id=\"messageId\" \r\n        />\r\n\r\n        <TodoPageHeader \r\n            :title=\"title\" \r\n        />\r\n\r\n        <form @submit.prevent=\"saveTask\" class=\"maintain-form\">\r\n            <TodoInput \r\n                id=\"description\" \r\n                :value.sync=\"task.description\" \r\n                placeholder=\"Descrição\"\r\n            />\r\n\r\n            <div class=\"maintain-actions\">\r\n                <TodoButton \r\n                    label=\"Voltar\"\r\n                    @onClick=\"backToList\"\r\n                    icon=\"arrow-left\"\r\n                />\r\n\r\n                <TodoButton \r\n                    submit\r\n                    label=\"Confirmar\" \r\n                    icon=\"check\"\r\n                />                \r\n            </div>\r\n        </form>\r\n\r\n        <TodoModalConfirm \r\n            :id=\"idSaveConfirm\"\r\n            :title=\"title\"\r\n            :message=\"confirmMessage\"\r\n            labelOk=\"Sim\"\r\n            labelCancel=\"Não\"            \r\n            @onOk=\"confirmSaveTask\"\r\n        />\r\n\r\n    </section>\r\n</template>\r\n\r\n<script>\r\nimport TodoService from '@/services/todo-service.js';\r\nimport TodoPageHeader from '@/components/todo-page-header/TodoPageHeader';\r\nimport TodoInput from '@/components/todo-input/TodoInput';\r\nimport TodoMessageService from '@/components/todo-message/TodoMessageService';\r\nimport TodoModalConfirm from '@/components/todo-modal/TodoModalConfirm';\r\nimport TodoModalService from '@/components/todo-modal/TodoModalService';\r\n\r\nexport default {\r\n    components: { TodoPageHeader, TodoInput, TodoModalConfirm },\r\n    props: ['id'],\r\n    data() {\r\n        return {\r\n            task: {\r\n                description: ''\r\n            }\r\n        }\r\n    },\r\n    computed: {\r\n        title() {\r\n            return (!this.id ? 'Criar' : 'Alterar') + ' Task';\r\n        },\r\n        confirmMessage() {\r\n            return (this.id ? 'Deseja realmente alterar a task?' : 'Deseja realmente inserir a task?');\r\n        },\r\n        messageId() {\r\n            return 'todoInsertUpdate';\r\n        },\r\n        idSaveConfirm() {\r\n            return 'saveTaskConfirm'\r\n        }\r\n    },\r\n    methods: {\r\n        saveTask() {\r\n            TodoModalService.open(this.idSaveConfirm);\r\n        },\r\n        confirmSaveTask() {\r\n            if (!this.task.description) {\r\n                alert('Descrição não informada')\r\n                return;\r\n            }\r\n\r\n            if (!this.id) {\r\n                TodoService.create({\r\n                        description: this.task.description,\r\n                        done: false\r\n                    })\r\n                    .then(() => {\r\n                        this.task.description = '';\r\n                        TodoMessageService.success(this.messageId, 'Task criada com sucesso')\r\n                    })\r\n                    .catch(() => TodoMessageService.error(this.messageId, 'Erro ao inserir a task'));\r\n            } else {\r\n                TodoService.update({\r\n                    id: this.id,\r\n                    description: this.task.description,\r\n                    done: false                    \r\n                })\r\n                .then(() =>  TodoMessageService.success(this.messageId, 'Task alterada com sucesso'))\r\n                .catch(() => TodoMessageService.error(this.messageId, 'Erro ao alterar a task'));\r\n            }\r\n        },\r\n        backToList() {\r\n            this.$router.push({ name: 'todo-list'})\r\n        }\r\n    },\r\n    created() {\r\n        if (this.id) {\r\n            TodoService.find(this.id)\r\n                .then(task => this.task.description = task.description)\r\n                .catch(() => TodoMessageService.error(this.messageId, 'Erro ao carregar a task'));\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.maintain-container {\r\n    display: grid;\r\n    border: 1px solid lightgray;\r\n    border-radius: 4px;\r\n    padding: 20px;\r\n}\r\n.maintain-form {\r\n    display: grid;\r\n}\r\n.maintain-actions {\r\n    display: flex;\r\n    justify-content: flex-end;\r\n    align-items: center;\r\n    margin-top: 20px;\r\n}\r\n.maintain-actions button {\r\n    width: 150px;\r\n    margin-left: 10px;\r\n}\r\n</style>\r\n"],"sourceRoot":"src/views"}]}