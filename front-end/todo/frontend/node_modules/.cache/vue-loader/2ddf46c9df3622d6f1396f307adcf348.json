{"remainingRequest":"/home/rperandre/projetos-teste/projeto-todo/front-end/treinavue-basico/todo/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/rperandre/projetos-teste/projeto-todo/front-end/treinavue-basico/todo/frontend/src/components/todo-table/TodoTable.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/home/rperandre/projetos-teste/projeto-todo/front-end/treinavue-basico/todo/frontend/src/components/todo-table/TodoTable.vue","mtime":1574442239243},{"path":"/home/rperandre/projetos-teste/projeto-todo/front-end/treinavue-basico/todo/frontend/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/rperandre/projetos-teste/projeto-todo/front-end/treinavue-basico/todo/frontend/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/rperandre/projetos-teste/projeto-todo/front-end/treinavue-basico/todo/frontend/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/rperandre/projetos-teste/projeto-todo/front-end/treinavue-basico/todo/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/rperandre/projetos-teste/projeto-todo/front-end/treinavue-basico/todo/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi50b2RvLXRhYmxlLWNvbnRhaW5lciB7CiAgICBkaXNwbGF5OiBncmlkOwp9Ci50b2RvLXRhYmxlIHsKICAgIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7Cn0KLnRvZG8tdGFibGUgdGhlYWQgdGggeyAgICAKICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgIHBhZGRpbmc6IDEwcHg7CiAgICBiYWNrZ3JvdW5kOiB2YXIoLS10YWJsZS10aC1jb2xvcik7CiAgICBjb2xvcjogdmFyKC0td2hpdGUtY29sb3IpOwogICAgYm9yZGVyLXJpZ2h0OiAxcHggc29saWQgdmFyKC0tdGFibGUtYm9yZGVyLWNvbG9yKTsKfQoudG9kby10YWJsZSB0aGVhZCB0aDpmaXJzdC1jaGlsZCB7CiAgICBib3JkZXItbGVmdDogMXB4IHNvbGlkIHZhcigtLXRhYmxlLXRoLWNvbG9yKTsKfQoudG9kby10YWJsZSB0aGVhZCB0aDpsYXN0LWNoaWxkIHsKICAgIGJvcmRlci1yaWdodDogMXB4IHNvbGlkIHZhcigtLXRhYmxlLXRoLWNvbG9yKTsKfQoudG9kby10YWJsZSB0Ym9keSB0cjpob3ZlciB7CiAgICBiYWNrZ3JvdW5kOiB2YXIoLS10YWJsZS10ci1ob3Zlci1jb2xvcik7Cn0KLnRvZG8tdGFibGUgdGQgewogICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHZhcigtLXRhYmxlLWJvcmRlci1jb2xvcik7CiAgICBib3JkZXItcmlnaHQ6IDFweCBzb2xpZCB2YXIoLS10YWJsZS1ib3JkZXItY29sb3IpOwogICAgcGFkZGluZzogMTBweDsKfQoudG9kby10YWJsZSB0ZDpsYXN0LWNoaWxkIHsKICAgIGJvcmRlci1yaWdodDogbm9uZTsKfQoudG9kby10YWJsZS1ub2RhdGEgewogICAgcGFkZGluZzogMTBweDsKICAgIGZvbnQtc2l6ZTogMS4ycmVtOwogICAgZm9udC13ZWlnaHQ6IGJvbGQ7Cn0KLnRvZG8tdGFibGUtZm9vdGVyIHsKICAgIGJhY2tncm91bmQ6IHZhcigtLWdyYXktbGlnaHQtY29sb3IpOwp9Cg=="},{"version":3,"sources":["TodoTable.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"TodoTable.vue","sourceRoot":"src/components/todo-table","sourcesContent":["<template>\n  <div class=\"todo-table-container\">\n\n    <TodoInput \n        id=\"todo-search\" \n        :value.sync=\"internalSearchTerm\" \n        :isSearch=\"true\"\n    />\n\n    <table class=\"todo-table\">\n\n        <!-- Header -->\n        <thead>\n            <th v-for=\"field in fields\" :key=\"field.name\">\n                <slot name=\"table-col\" :field=\"field\">\n                    {{field.label}}\n                </slot>\n            </th>\n        </thead>\n\n        <!-- Data -->\n        <tbody>\n            <template v-if=\"hasData\">\n                <tr v-for=\"(item, itemIndex) in internalItems\" :key=\"`tr_${itemIndex}`\" @click.stop=\"rowClicked(item)\">\n                    <td v-for=\"(field, fieldIndex) in fields\" :key=\"`td_${field.name}_${itemIndex}_${fieldIndex}`\">\n                        <slot name=\"table-row\" :field=\"field.name\" :item=\"item\" :value=\"item[field.name]\">\n                            {{item[field.name]}}\n                        </slot>\n                    </td>\n                </tr>\n            </template>\n            <template v-else>\n                <tr>\n                    <td :colspan=\"fields.length\" class=\"todo-table-nodata\">\n                        Não há dados\n                    </td>\n                </tr>\n            </template>\n        </tbody>\n\n        <!-- Pagination -->\n        <tfoot v-if=\"paginated\">\n            <tr>\n                <td :colspan=\"fields.length\" class=\"todo-table-footer\">\n                    <TodoTablePagination \n                        :currentPage.sync=\"internalCurrentPage\" \n                        :pages=\"pages\" \n                        :pageSize.sync=\"internalPageSize\"\n                        :disabled=\"searched\"\n                    />\n                </td>\n            </tr>\n        </tfoot>\n    </table>\n\n  </div>\n</template>\n\n<script>\nimport TodoInput from '@/components/todo-input/TodoInput';\nimport TodoTablePagination from '@/components/todo-table/TodoTablePagination';\n\nexport default {\n    components: { TodoInput, TodoTablePagination },\n    props: {\n        fields: {\n            type: Array,\n            required: true\n        },\n        items: {\n            type: Array,\n            required: true\n        },\n        searchable: {\n            type: Boolean,\n            default: false\n        },\n        paginated: {\n            type: Boolean,\n            default: false\n        },\n        pageSize: {\n            type: Number,\n            default: 10,\n            validator: (value) => [5, 10, 20].find(size => value === size)\n        }\n    },\n    data() {\n        return {\n            internalSearchTerm: '',\n            internalItems: this.items,\n            internalPageSize: this.pageSize,\n            internalCurrentPage: 1,\n        }\n    },\n    computed: {\n        pages() {\n            return this.internalPageSize != 0 \n                ? Math.ceil(this.items.length / this.internalPageSize)\n                : 1;\n        },\n        searched() {\n            return this.internalSearchTerm != '';\n        },\n        hasData() {\n            return this.internalItems.length > 0;\n        }\n    },\n    watch: {\n        items() {\n            this.updateData();\n        },\n        internalSearchTerm() {\n            this.search();\n        },\n        internalCurrentPage() {\n            this.updateData();\n        },\n        internalPageSize() {\n            this.updateData();\n        }\n    },\n    methods: {\n        updateData() {\n            if (!this.paginated || this.internalPageSize === 0) {\n                this.internalItems = this.items;\n                return;\n            } \n\n            let end = this.internalCurrentPage * this.internalPageSize;\n            let begin = (this.internalCurrentPage * this.internalPageSize) - this.internalPageSize;\n            \n            this.internalItems = this.items.slice(begin, end);\n        },\n        search() {\n            this.internalSearchTerm.length === 0\n                ? this.updateData()\n                : this.internalItems = this.items.filter(item => {\n                    for(let prop in item) {\n                        return new String(item[prop]).toLowerCase()\n                            .includes(this.internalSearchTerm.toLowerCase());\n                    }\n                })\n        },\n        rowClicked(item) {\n            this.$emit('onRowClick', item);\n        }\n    },\n    created() {\n        setTimeout(() => {\n            if (!this.hasData) {\n                this.internalCurrentPage = 0\n            }            \n        }, 100);\n    }\n\n}\n</script>\n\n<style>\n.todo-table-container {\n    display: grid;\n}\n.todo-table {\n    border-collapse: collapse;\n}\n.todo-table thead th {    \n    text-align: center;\n    padding: 10px;\n    background: var(--table-th-color);\n    color: var(--white-color);\n    border-right: 1px solid var(--table-border-color);\n}\n.todo-table thead th:first-child {\n    border-left: 1px solid var(--table-th-color);\n}\n.todo-table thead th:last-child {\n    border-right: 1px solid var(--table-th-color);\n}\n.todo-table tbody tr:hover {\n    background: var(--table-tr-hover-color);\n}\n.todo-table td {\n    border-bottom: 1px solid var(--table-border-color);\n    border-right: 1px solid var(--table-border-color);\n    padding: 10px;\n}\n.todo-table td:last-child {\n    border-right: none;\n}\n.todo-table-nodata {\n    padding: 10px;\n    font-size: 1.2rem;\n    font-weight: bold;\n}\n.todo-table-footer {\n    background: var(--gray-light-color);\n}\n</style>"]}]}