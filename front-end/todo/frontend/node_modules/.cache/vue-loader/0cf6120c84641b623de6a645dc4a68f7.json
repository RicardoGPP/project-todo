{"remainingRequest":"/home/rperandre/other-projects/project-todo/front-end/todo/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/rperandre/other-projects/project-todo/front-end/todo/frontend/src/views/TodoList.vue?vue&type=style&index=0&id=4a06ea3e&scoped=true&lang=css&","dependencies":[{"path":"/home/rperandre/other-projects/project-todo/front-end/todo/frontend/src/views/TodoList.vue","mtime":1574442239243},{"path":"/home/rperandre/other-projects/project-todo/front-end/todo/frontend/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/rperandre/other-projects/project-todo/front-end/todo/frontend/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/rperandre/other-projects/project-todo/front-end/todo/frontend/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/rperandre/other-projects/project-todo/front-end/todo/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/rperandre/other-projects/project-todo/front-end/todo/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQoubGlzdC1jb250YWluZXIgew0KICAgIGRpc3BsYXk6IGdyaWQ7DQogICAgYm9yZGVyOiAxcHggc29saWQgbGlnaHRncmF5Ow0KICAgIGJvcmRlci1yYWRpdXM6IDRweDsNCiAgICBwYWRkaW5nOiAyMHB4Ow0KfQ0KLmxpc3QtYWN0aW9ucyB7DQogICAgbWFyZ2luLXRvcDogMjBweDsNCiAgICANCiAgICBkaXNwbGF5OiBmbGV4Ow0KICAgIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7DQp9DQoubGlzdC1hY3Rpb25zIGJ1dHRvbiB7DQogICAgd2lkdGg6IDE1MHB4Ow0KfQ0KLmxpbmUtYWN0aW9uLWJ1dHRvbiB7DQogICAgbWFyZ2luLWxlZnQ6IDVweDsNCn0NCi50YXNrLWZpbmlzaGVkIHsNCiAgICB0ZXh0LWRlY29yYXRpb246IGxpbmUtdGhyb3VnaA0KfQ0KLmNlbnRlciB7DQogICAgdGV4dC1hbGlnbjogY2VudGVyOw0KfQ0K"},{"version":3,"sources":["TodoList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"TodoList.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n    <section class=\"list-container\">\r\n\r\n        <TodoMessage \r\n            :id=\"messageId\" \r\n        />\r\n\r\n        <TodoPageHeader \r\n            title=\"Todo list\" \r\n        />\r\n               \r\n        <TodoTable  \r\n            :fields=\"fields\" \r\n            :items=\"tasks\"\r\n            :searchable=\"true\"\r\n            :paginated=\"true\"\r\n            :pageSize=\"5\"\r\n            @onRowClick=\"(item) => this.gotoUpdate(item.id)\"\r\n        >\r\n\r\n            <!-- Opcional usar somente se customizações forem necessárias no header -->\r\n            <template v-slot:table-col=\"props\">\r\n                <template v-if=\"props.field.name === 'done'\">\r\n                    <i class=\"fa fa-check\" />  {{props.field.label}}    \r\n                </template>\r\n                <template v-else-if=\"props.field.name === 'actions'\">\r\n                    <i class=\"fa fa-bolt\" />  {{props.field.label}}    \r\n                </template>                \r\n                <template v-else>\r\n                    {{props.field.label}}\r\n                </template>\r\n            </template>\r\n\r\n            <!-- Opcional usar somente se customizações forem necessárias nos dados -->\r\n            <template v-slot:table-row=\"props\">\r\n\r\n                <template v-if=\"props.field === 'description'\">\r\n                    <div :class=\"props.item.done ? 'task-finished' : ''\">\r\n                        {{props.item.description}}\r\n                    </div>\r\n                </template>\r\n\r\n                <template v-else-if=\"props.field === 'done'\">\r\n                    <div class=\"center\">\r\n                        {{props.item.done ? 'Sim' : 'Não'}}\r\n                    </div>\r\n                </template>\r\n\r\n                <template v-else-if=\"props.field === 'actions'\">\r\n                    <div class=\"center\">\r\n                        <TodoButton \r\n                            v-if=\"!props.item.done\" \r\n                            @onClick=\"gotoUpdate(props.item.id)\" \r\n                            icon=\"edit\" \r\n                            circle\r\n                            tooltip=\"Alterar\"\r\n                            clazz=\"line-action-button\"\r\n                        />\r\n\r\n                        <TodoButton \r\n                            v-if=\"props.item.done\" \r\n                            @onClick=\"removeTask(props.item)\" \r\n                            icon=\"trash\" \r\n                            circle\r\n                            tooltip=\"Excluir\"\r\n                            clazz=\"line-action-button\"\r\n                        />\r\n\r\n                        <TodoButton \r\n                            @onClick=\"toggleTaskState(props.item)\" \r\n                            :icon=\"props.item.done ? 'undo' : 'check'\"\r\n                            circle\r\n                            :tooltip=\"props.item.done ? 'Reabrir' : 'Finalizar'\"\r\n                            clazz=\"line-action-button\"\r\n                        />\r\n                    </div>\r\n                </template>\r\n\r\n                <template v-else>\r\n                    {{props.value}}\r\n                </template>\r\n            </template>\r\n            \r\n        </TodoTable>\r\n\r\n        <div class=\"list-actions\">\r\n            <TodoButton \r\n                label=\"Adicionar\" \r\n                icon=\"plus\" \r\n                @onClick=\"gotoCreate\"\r\n            />\r\n        </div>\r\n\r\n        <TodoModalConfirm \r\n            :id=\"idDeleteConfirm\"\r\n            title=\"Exclusão de Task\"\r\n            message=\"Deseja realmente excluir a task\"\r\n            :messageComp=\"`${this.task ? this.task.description : ''}?`\"\r\n            labelOk=\"Sim\"\r\n            labelCancel=\"Não\"\r\n            @onOk=\"confirmRemoveTask\"\r\n            @onCancel=\"cancelRemoveTask\"\r\n        />\r\n\r\n    </section>\r\n</template>\r\n\r\n<script>\r\nimport TodoService from '../services/todo-service.js';\r\nimport TodoMessageService from '@/components/todo-message/TodoMessageService';\r\n\r\nimport TodoPageHeader from '@/components/todo-page-header/TodoPageHeader';\r\nimport TodoTable from '@/components/todo-table/TodoTable';\r\nimport TodoModalConfirm from '@/components/todo-modal/TodoModalConfirm';\r\nimport TodoModalService from '@/components/todo-modal/TodoModalService';\r\n\r\nexport default {\r\n    components: { TodoPageHeader, TodoTable, TodoModalConfirm },\r\n    data() {\r\n        return {\r\n            tasks: [],\r\n            task: undefined\r\n        }\r\n    },\r\n    computed: {\r\n        messageId() {\r\n            return 'listMessage';\r\n        },\r\n        fields() {\r\n            return [{\r\n                        label: 'Descrição', \r\n                        name: 'description'\r\n                    },\r\n                    {\r\n                        label: 'Finalizado', \r\n                        name: 'done'\r\n                    },\r\n                    {\r\n                        label: 'Ações', \r\n                        name: 'actions'\r\n                    }];\r\n        },\r\n        idDeleteConfirm() {\r\n            return 'deleteTaskConfirm';\r\n        }\r\n    },\r\n    methods: {\r\n        gotoCreate() {\r\n            this.$router.push({ name: 'todo-create' });\r\n        },\r\n        gotoUpdate(id) {\r\n            this.$router.push({ name: 'todo-update', params: { id } });\r\n        },\r\n        removeTask(task) {\r\n            this.task = task;\r\n            TodoModalService.open(this.idDeleteConfirm);\r\n        },\r\n        confirmRemoveTask() {\r\n            TodoService.delete(this.task.id)\r\n                .then(() => this.listAll())\r\n                .catch(() => TodoMessageService.error(this.messageId, 'Erro ao remover a task'))\r\n                .finally(() => this.cancelRemoveTask())\r\n        },\r\n        cancelRemoveTask() {\r\n            this.task = undefined;\r\n        },\r\n        toggleTaskState(task) {\r\n            TodoService.updateState(task)\r\n                .then(() => this.listAll())\r\n                .catch(() => TodoMessageService.error(this.messageId, 'Erro ao mudar o estado da task'));\r\n        },\r\n        listAll() {\r\n            TodoService.listAll()\r\n                .then(tasks => this.tasks = tasks)\r\n                .catch(() => TodoMessageService.error(this.messageId, 'Erro ao listar as tasks'));\r\n        }\r\n    },\r\n    created() {\r\n        this.listAll();\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.list-container {\r\n    display: grid;\r\n    border: 1px solid lightgray;\r\n    border-radius: 4px;\r\n    padding: 20px;\r\n}\r\n.list-actions {\r\n    margin-top: 20px;\r\n    \r\n    display: flex;\r\n    justify-content: flex-end;\r\n}\r\n.list-actions button {\r\n    width: 150px;\r\n}\r\n.line-action-button {\r\n    margin-left: 5px;\r\n}\r\n.task-finished {\r\n    text-decoration: line-through\r\n}\r\n.center {\r\n    text-align: center;\r\n}\r\n</style>\r\n"]}]}